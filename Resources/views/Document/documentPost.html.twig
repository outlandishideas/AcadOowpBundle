{% extends 'OutlandishAcadOowpBundle:Default:defaultPost.html.twig' %}

{% block postTitle %}<h1>'{{ post.title() | raw }}'</h1>{% endblock %}

{% set author_names = post.author_names() %}
{% set authors = post.authors() %}

{% block subTitle %}
    <ul class="subtitle-list">
        <li class="font-theme-colour">

            {% if author_names %}

                {{ author_names }}

            {% endif %}

        </li>
        <li class="font-theme-colour">

            {{ post.title() }}

        </li>
        <li class="font-theme-colour">

            {% if post.journal() %}

                {{ post.journal() | raw }}

            {% endif %}
        </li>
        <li class="font-theme-colour">

            {% if post.publication() %}

                {{ post.publication() | raw }}

            {% endif %}

        </li>
        <li class="font-theme-colour">

            {% if post.pageNumbers() %}

                {{ post.pageNumbers() | raw }}

            {% endif %}
        </li>
    </ul>

    {% if post.additionalInformation() %}

        <div class="additional-information">
             {{ post.additionalInformation() | raw }}
        </div>

    {% endif %}

    {% if attachment %}

        <div class="attachment">
            <div class="row">
                <div class="large-18 columns">
                    <p class="font-theme-colour">Link to full paper:</p>
                    <a href="{{  attachment['url'] | raw }}" class="font-theme-colour">{{  attachment['url'] | raw }}</a>
                </div>
                <div class="large-6 columns">
                     <a href="{{ attachment['url'] | raw }}" class="download">
                         <span class="fa fa-chevron-right"></span>
                     </a>
                </div>
            </div>
        </div>

    {% endif %}

{% endblock %}

{% block postContent %}

    <hr>
    <h3 class="block-heading">Extract</h3>

    <h2>'{{ post.title() | raw }}'</h2>

    <p>
        {{ post.excerpt(1000) | raw }}
    </p>

{% endblock %}


{% block sideBar %}

  {% include "OutlandishAcadOowpBundle:Partial:share.html.twig" with {
  'post': post,
  'title': 'page'}
  %}

  {% if authors | length > 0 %}
    <hr>
    <h3 class="block-heading">Author{% if authors | length > 1 %}s{% endif %}</h3>
        <div class="authors">
            {% for person in authors %}
                {% include 'OutlandishAcadOowpBundle:Person:personItem.html.twig' with {
                'person': person,
                'size': 'small'} %}
            {% endfor %}
        </div>
  {% endif %}

      {% for taxonomy in post.taxonomies() %}
        {% if taxonomy.terms | length > 0 %}
            <div class="taxonomy {{ taxonomy.type }}">
                <hr>
                <h3 class="block-heading">{{ taxonomy.name }}</h3>
                <ul class="terms {{ taxonomy.type }}">
                {% for term in taxonomy.terms %}
                    <li><a href="{{ term.permalink() }}">{{ term.title() | raw }}</a></li>
                {% endfor %}
                </ul>
            </div>
        {% endif %}
      {% endfor %}

{% endblock %}



