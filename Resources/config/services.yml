services:
    outlandish_acadoowp.wordpress.wrapper:
        class: Outlandish\AcadOowpBundle\Wordpress\WordpressWrapper

    outlandish_acadoowp.helper.wordpress_menu:
        class: Outlandish\AcadOowpBundle\Helper\WordpressMenuHelper
        arguments: [ @outlandish_routemaster.query_manager, @outlandish_acadoowp.wordpress.wrapper ]

    outlandish_acadoowp.page_sections.builder:
        class: Outlandish\AcadOowpBundle\PageSections\PageSectionsBuilder

    outlandish_acadoowp.helper.acf:
        class: Outlandish\AcadOowpBundle\Helper\AcfHelper
        arguments: [@outlandish_oowp.helper.wp]

    outlandish_acadoowp.helper.breadcrumb:
        class: Outlandish\AcadOowpBundle\Helper\BreadcrumbHelper
        arguments: [@outlandish_oowp.post_manager, @outlandish_oowp.query_manager]

    kernel.listener.outlandish.notfound:
        class: Outlandish\AcadOowpBundle\EventListener\NotFoundListener
        arguments: [@templating.engine.twig]
        tags:
            - {name: kernel.event_listener, event: kernel.exception, method: onKernelException}

    outlandish_acadoowp.template_component.footer:
        class: Outlandish\AcadOowpBundle\TemplateComponent\FooterComponent
        arguments: [ @outlandish_oowp.helper.wp, @outlandish_acadoowp.helper.wordpress_menu, @outlandish_acadoowp.page_sections.builder ]

    outlandish_acadoowp.template_component.header:
        class: Outlandish\AcadOowpBundle\TemplateComponent\HeaderComponent
        arguments: [ @outlandish_oowp.helper.wp ]

    outlandish_acadoowp.controller.footer:
        class: Outlandish\AcadOowpBundle\Controller\ComponentController
        arguments: [ @templating.engine.twig ]
        calls:
            - [ setTemplate, [ OutlandishAcadOowpBundle:Navigation:Footer.html.twig ] ]
            - [ addComponent, [ @outlandish_acadoowp.template_component.footer ] ]

    outlandish_acadoowp.controller.header:
        class: Outlandish\AcadOowpBundle\Controller\ComponentController
        arguments: [ @templating.engine.twig ]
        calls:
            - [ setTemplate, [ OutlandishAcadOowpBundle:Header:header.html.twig ] ]
            - [ addComponent, [ @outlandish_acadoowp.template_component.header ] ]

    outlandish_acadoowp.controller.breadcrumb:
        class: Outlandish\AcadOowpBundle\Controller\ComponentController
        arguments: [ @templating.engine.twig ]
        calls:
            - [ setTemplate, [ OutlandishAcadOowpBundle:Partial:breadcrumbs.html.twig ] ]
            - [ addComponent, [ @outlandish_acadoowp.template_component.breadcrumb ] ]

    outlandish_acadoowp.repository.post_repository:
        class: Outlandish\AcadOowpBundle\Repository\PostRepository
        arguments: [ @outlandish_oowp.query_manager ]

    outlandish_acadoowp.breadcrumb.breadcrumb_trail:
        class: Outlandish\AcadOowpBundle\Breadcrumb\BreadcrumbTrail
        arguments: [ @outlandish_acadoowp.wordpress.wrapper, @outlandish_acadoowp.breadcrumb.factory ]

    outlandish_acadoowp.breadcrumb.factory:
        class: Outlandish\AcadOowpBundle\Breadcrumb\BreadcrumbFactory
        arguments: [ @outlandish_acadoowp.wordpress.wrapper, @outlandish_acadoowp.repository.post_repository ]

    outlandish_acadoowp.template_component.breadcrumb:
        class: Outlandish\AcadOowpBundle\TemplateComponent\BreadcrumbComponent
        arguments: [ @request_stack, @outlandish_acadoowp.breadcrumb.breadcrumb_trail, @outlandish_acadoowp.repository.post_repository ]